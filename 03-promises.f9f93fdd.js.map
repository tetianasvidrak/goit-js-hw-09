{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEA,SAASC,EAAcC,EAAUC,GAE/B,OADsBC,KAAKC,SAAW,GAG7BC,QAAQC,QAAQ,C,SAAEL,E,MAAUC,IAG5BG,QAAQE,OAAO,C,SAAEN,E,MAAUC,GAEtC,CAEA,MAAMM,EAAUC,SAASC,cAAc,SACjCC,EAASF,SAASC,cAAc,UA8BtCF,EAAQI,iBAAiB,UA5BGC,IAC1BA,EAAMC,iBACNH,EAAOI,UAAW,EAClB,MAAOb,EAAOc,EAAMC,GAAUJ,EAAMK,OAAOC,SAC3C,IAAK,IAAIlB,EAAW,EAAGA,EAAWgB,EAAOG,MAAOnB,IAC9CoB,YAAW,KACTrB,EAAcC,EAAUC,EAAMkB,OAC3BE,MAAK,EAACrB,SAAEA,EAAQC,MAAEA,MACjBqB,EAAAzB,GAAS0B,OAAOC,QACd,qBAAqBxB,EAAW,QAC9ByB,OAAOxB,GAASD,EAAWyB,OAAOV,EAAKI,WACrC,IAGPO,OAAM,EAAC1B,SAAEA,EAAQC,MAAEA,MAClBqB,EAAAzB,GAAS0B,OAAOI,QACd,oBAAoB3B,EAAW,QAC7ByB,OAAOxB,GAASD,EAAWyB,OAAOV,EAAKI,WACrC,IAGNH,EAAOG,MAAQnB,EAAW,IAC5BU,EAAOI,UAAW,EAAK,GAExBW,OAAOxB,EAAMkB,OAASnB,EAAWyB,OAAOV,EAAKI,OAAK,G","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  if (shouldResolve) {\n    // Fulfill\n    return Promise.resolve({ position, delay });\n  } else {\n    // Reject\n    return Promise.reject({ position, delay });\n  }\n}\n\nconst formRef = document.querySelector('.form');\nconst btnRef = document.querySelector('button');\n\nconst onFormSubmitHandler = event => {\n  event.preventDefault();\n  btnRef.disabled = true;\n  const [delay, step, amount] = event.target.elements;\n  for (let position = 0; position < amount.value; position++) {\n    setTimeout(() => {\n      createPromise(position, delay.value)\n        .then(({ position, delay }) => {\n          Notiflix.Notify.success(\n            `Fulfilled promise ${position + 1} in ${\n              Number(delay) + position * Number(step.value)\n            }ms`\n          );\n        })\n        .catch(({ position, delay }) => {\n          Notiflix.Notify.failure(\n            `Rejected promise ${position + 1} in ${\n              Number(delay) + position * Number(step.value)\n            }ms`\n          );\n        });\n      if (amount.value - position < 2) {\n        btnRef.disabled = false;\n      }\n    }, Number(delay.value) + position * Number(step.value));\n  }\n};\n\nformRef.addEventListener('submit', onFormSubmitHandler);\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$createPromise","position","delay","Math","random","Promise","resolve","reject","$ce04d3a99e08e73b$var$formRef","document","querySelector","$ce04d3a99e08e73b$var$btnRef","addEventListener","event","preventDefault","disabled","step","amount","target","elements","value","setTimeout","then","$parcel$interopDefault","Notify","success","Number","catch","failure"],"version":3,"file":"03-promises.f9f93fdd.js.map"}